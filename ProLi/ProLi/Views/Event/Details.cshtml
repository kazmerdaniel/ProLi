@model ProLi.Models.Event

@{
    ViewData["Title"] = "Details";
}

<h1>@Html.DisplayFor(model => model.EventName)</h1>

<div>
  @*  <h4>Rendezvény adatai</h4>*@
    <hr />
    <div class="row">
            
        <dl class="row">
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.EventTime)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.EventTime)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Place)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Place)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.MaxPeople)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.MaxPeople)
            </dd>
      
        </dl>   
  
        <div class="col-8">
            <h4>@Html.DisplayFor(model => model.EventName) résztvetvői</h4>
            <hr />
            <div class="row">               
                @foreach(var people in Model.People)
                {             
                    <div class="col-4">
                        @people.GuestName
                    </div>
                    <div class="col-4">
                        <a asp-controller="People" id="" asp-route-id="@people.Id" asp-action="Details" class="btn btn-secondary mb-2">Adatlap megtekintése</a>
                    </div>
                    <div class="col-4">
                        <form asp-action="DeletePerson" asp-route-id="@Model.Id" asp-route-personId="@people.Id">
                            <button type="submit" class="btn btn-dark d-block">Személy eltávolítása</button>
                        </form>
                    </div>
                    <script>
                        function deletePerson() {  
                            location.reload();
                        }
                    </script>
                }
            </div>
        </div>
    </div>
</div>

<div>
    <a asp-action="AddToEvent" class="btn btn-secondary d-inline-block mr-2" asp-route-id="@Model?.Id">Személy hozzáadása</a>
    <form asp-action="ExportToExcel1" method="post" class="d-inline-block">
        <input type="hidden" name="id" value="@Model.Id" />
        <button type="submit" class="btn btn-secondary">Export to Excel</button>
    </form>
    <a asp-action="Index" class="btn btn-secondary d-inline-block ml-2">Vissza</a>
</div>

